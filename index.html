<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rober González, Sr. Product Designer</title>
  <meta name="description" content="Senior Product Designer specialising in AI products, UX, UI and frontend. Based in Spain." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,300;0,14..32,400;0,14..32,500;1,14..32,300&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.2/src/regular/style.css" />
  <link rel="canonical" href="https://rober.design/" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' rx='6' fill='%23111110'/><text x='16' y='23' text-anchor='middle' font-family='system-ui,sans-serif' font-size='19' font-weight='600' fill='%23f7f5f0'>R</text></svg>" />
  <meta property="og:title" content="Rober González — Senior Product Designer" />
  <meta property="og:description" content="Senior Product Designer specialising in AI products, UX, UI and frontend. Based in Spain." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://rober.design/" />
  <meta property="og:image" content="https://rober.design/img/og.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Rober González — Senior Product Designer" />
  <meta name="twitter:description" content="Senior Product Designer specialising in AI products, UX, UI and frontend. Based in Spain." />
  <meta name="twitter:image" content="https://rober.design/img/rgd_trs.webp" />
  <noscript><style>.reveal { opacity: 1 !important; transform: none !important; }</style></noscript>

  <style>

    /* ─── Tokens ───────────────────────────────────────── */
    :root {
      --bg:       #fefefd;
      --fg:       #111110;
      --fg-mid:   #686864;
      --fg-dim:   #6b6862;
      --border:   #d6d3cc;
      --accent:   #0015ff;
      --accent-h: #001692;

      /* Easing */
      --ease-out:  cubic-bezier(0.22, 1, 0.36, 1);
      --ease-fast: cubic-bezier(0.25, 1, 0.5,  1);
    }
    [data-theme="dark"] {
      --bg:       #05050e;
      --fg:       #eeeeff;
      --fg-mid:   #adadc6;
      --fg-dim:   #8080a8;
      --border:   #21213a;
      --accent:   #C4E456;
      --accent-h: #d8f06a;
    }

    /* ─── Reset ────────────────────────────────────────── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { font-size: 16px; scroll-behavior: smooth; text-wrap: pretty;}
    html {
      scroll-padding-top: 96px;
    }
    a { color: inherit; text-decoration: none; }
    button { cursor: pointer; font: inherit; border: none; background: none; }
    ul, ol { list-style: none; }
    h1, h2, h3, h4, h5, h6 { font-size: inherit; font-weight: inherit; text-wrap: balance;}

    /* Hide focus ring for mouse/touch; show only on keyboard navigation */
    :focus:not(:focus-visible) { outline: none; }
    :focus-visible {
      outline: 2px solid var(--fg);
      outline-offset: 3px;
      border-radius: 3px;
    }

    /* ─── Base ─────────────────────────────────────────── */
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--fg);
      -webkit-font-smoothing: antialiased;
      transition: background .25s ease, color .25s ease;
    }

    /* ─── Wrapper ──────────────────────────────────────── */
    .w {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 36px;
    }

    /* ─── Accessibility utilities ──────────────────── */
    .visually-hidden {
      position: absolute; width: 1px; height: 1px; padding: 0;
      margin: -1px; overflow: hidden; clip: rect(0,0,0,0);
      white-space: nowrap; border: 0;
    }
    .skip-link {
      position: fixed; top: -100%; left: 20px; z-index: 200;
      padding: 8px 18px;
      background: var(--bg); color: var(--fg);
      font-size: 13px; font-weight: 500; letter-spacing: .03em;
      border: 1px solid var(--border); border-radius: 4px;
      transition: top .18s var(--ease-out);
    }
    .skip-link:focus { top: 20px; }

    /* ─── Nav ──────────────────────────────────────────── */
    nav {
      position: fixed;
      inset: 0 0 auto 0;
      z-index: 50;
      padding: 22px 36px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: color-mix(in srgb, var(--bg) 78%, transparent);
      backdrop-filter: blur(3px) saturate(130%);
      -webkit-backdrop-filter: blur(12px) saturate(130%);
      border-bottom: 1px solid transparent;
      transition: background .25s ease, border-color .35s var(--ease-out);
    }
    nav.scrolled { border-color: var(--border); }

    .logo {
      display: flex;
      align-items: center;
      gap: 4px;
      color: var(--fg);
      opacity: 0;
      transform: translateY(-4px);
      pointer-events: none;
      transition: color .2s, opacity .22s var(--ease-fast), transform .22s var(--ease-fast);
    }
    nav.show-logo .logo {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    .logo:hover { color: var(--accent); }

    .logo-shapes {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    [data-theme="dark"] .logo-shapes {
      filter: invert(1);
    }
    .nav-r {
      display: flex;
      align-items: center;
      gap: 28px;
    }
    .nav-links {
      display: flex;
      gap: 22px;
    }
    .nav-links a {
      position: relative;
      font-size: 11.5px;
      font-weight: 500;
      letter-spacing: .055em;
      text-transform: uppercase;
      color: var(--fg-mid);
      transition: color .18s;
    }
    .nav-links a:hover { color: var(--fg); }
    .nav-links a::after {
      content: '';
      position: absolute;
      inset: auto 0 -4px 0;
      height: 1px;
      background: currentColor;
      transform: scaleX(0);
      transform-origin: left;
      transition: transform .22s var(--ease-fast);
    }
    .nav-links a:hover::after { transform: scaleX(1); }

    #theme-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      color: var(--fg-mid);
      transition: color .18s;
    }
    #theme-btn:hover { color: var(--fg); }
    #theme-btn i {
      font-size: 17px;
      line-height: 1;
      transition: opacity .18s ease, transform .22s var(--ease-fast);
    }
    #theme-btn:hover i {
      transform: scale(1.06);
    }
    .hidden { display: none; }

    /* ─── Theme selector popover ────────────────────────── */
    .theme-wrap { position: relative; }

    .theme-pop {
      position: absolute;
      top: calc(100% + 10px);
      right: 0;
      display: block;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 4px;
      white-space: nowrap;
      pointer-events: none;
      opacity: 0;
      z-index: 60;
      transform: translateY(-4px);
      transition: opacity .18s var(--ease-out), transform .18s var(--ease-out);
      box-shadow: 0 8px 28px color-mix(in srgb, var(--fg) 8%, transparent);
    }
    .theme-pop.open {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }
    /* Caret pointing up toward button */
    .theme-pop::before {
      content: '';
      position: absolute;
      bottom: 100%; right: 9px;
      border: 6px solid transparent;
      border-bottom-color: var(--border);
    }
    .theme-pop::after {
      content: '';
      position: absolute;
      bottom: 100%; right: 10px;
      transform: translateY(2px);
      border: 5px solid transparent;
      border-bottom-color: var(--bg);
    }
    .theme-opt {
      display: flex;
      align-items: center;
      gap: 8px;
      width: 100%;
      padding: 7px 28px 7px 10px;
      font-size: 12px;
      font-weight: 400;
      color: var(--fg-mid);
      border-radius: 5px;
      text-align: left;
      transition: background .12s, color .12s;
    }
    .theme-opt:hover {
      background: color-mix(in srgb, var(--fg) 6%, transparent);
      color: var(--fg);
    }
    .theme-opt.active { color: var(--accent); font-weight: 500; }
    .theme-opt i { font-size: 13px; line-height: 1; flex-shrink: 0; }

    /* ─── Main ─────────────────────────────────────────── */
    main { padding-top: 110px; }

    /* ─── Keyframes ────────────────────────────────────── */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(16px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    /* ─── Hero ─────────────────────────────────────────── */
    .hero {
      padding-top: 32px;
      padding-bottom: 88px;
    }

    .hero-star { margin-bottom: 56px; }

    .hero-avatar {
      margin-bottom: 48px;
      animation: fadeIn 500ms cubic-bezier(0.22, 1, 0.36, 1) both;
    }
    .hero-avatar img {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      object-fit: cover;
      display: block;
      transition: filter .25s ease;
    }
    [data-theme="dark"] .hero-avatar img {
      filter: invert(1);
    }

    .hero .prose {
      animation: fadeUp 580ms 80ms cubic-bezier(0.22, 1, 0.36, 1) both;
    }
    .prose-cta {
      animation: fadeUp 500ms 260ms cubic-bezier(0.22, 1, 0.36, 1) both;
    }

    /* Inline Phosphor icons inside prose, sized to match text */
    .ph-inline {
      display: inline;
      vertical-align: -0.18em;
    }

    /* Company inline: icon + underlined name */
    .co {
      display: inline-flex;
      align-items: baseline;
      gap: 3px;
      white-space: nowrap;
    }
    .co-icon {
      display: inline-flex;
      align-items: center;
      position: relative;
      top: 0.1em;
      color: var(--fg-mid);
      transition: color .18s;
      flex-shrink: 0;
      line-height: 0;
    }
    .co-icon i {
      font-size: 1em;
      line-height: 1;
      vertical-align: middle;
      transition: transform .24s var(--ease-fast), opacity .24s var(--ease-fast);
    }
    .co-n {
      font-weight: 500;
      text-decoration: none;
    }
    .co-n--link {
      text-decoration: underline;
      text-decoration-color: var(--border);
      text-underline-offset: 4px;
      transition: text-decoration-color .18s, color .18s;
    }
    .co:has(.co-n--link):hover .co-n--link {
      color: var(--accent);
      text-decoration-color: var(--accent);
    }
    .co:has(.co-n--link):hover .co-icon { color: var(--accent); }
    .co-maisa .icon-hover {
      opacity: 0;
      position: absolute;
      inset: 0;
    }
    .co-maisa:hover .icon-default {
      opacity: 0;
    }
    .co-maisa:hover .icon-hover {
      opacity: 1;
    }
    .co-fresh:hover .co-icon i {
      animation: fresh-bounce .45s ease-in-out infinite;
    }
    .co-populate:hover .co-icon i {
      animation: chart-wiggle .35s ease-in-out infinite alternate;
    }
    .co-ntt .icon-hover {
      opacity: 0;
      position: absolute;
      inset: 0;
    }
    .co-ntt:hover .icon-default {
      opacity: 0;
    }
    .co-ntt:hover .icon-hover {
      opacity: 1;
    }
    @keyframes chart-wiggle {
      from { transform: translateX(-1px); }
      to { transform: translateX(1px); }
    }
    @keyframes fresh-bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-2px); }
    }

    /* The big flowing prose */
    .prose {
      font-size: clamp(20px, 2.85vw, 30px);
      font-weight: 300;
      line-height: 1.52;
      letter-spacing: -.01em;
      color: var(--fg);
    }
    .prose p + p { margin-top: 1.45em; }
    .prose strong { font-weight: 500; }

    /* CTA */
    .prose-cta {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      font-size: 15px;
      font-weight: 400;
      color: var(--fg);
      border-bottom: 1px solid var(--border);
      padding-bottom: 2px;
      transition: color .18s, border-color .18s;
    }
    .prose-cta-row {
      display: flex;
      align-items: center;
      gap: 18px;
      flex-wrap: wrap;
      margin-top: 60px;
    }
    .prose-cta:hover { color: var(--accent); border-color: var(--accent); }
    .prose-cta .arr { transition: transform .22s var(--ease-fast); display: inline-block; }
    .prose-cta:hover .arr { transform: translate(3px, -3px); }
    .exp-cta {
      margin-top: 20px;
      animation: none; /* entrance handled by .reveal */
    }

    /* ─── Divider ──────────────────────────────────────── */
    hr {
      border: none;
      border-top: 1px solid var(--border);
      transition: border-color .25s;
    }

    /* ─── Section ──────────────────────────────────────── */
    .sec {
      padding-top: 68px;
      padding-bottom: 68px;
      scroll-margin-top: 96px;
    }

    .sec-grid {
      display: grid;
      grid-template-columns: 120px 1fr;
      gap: 0 40px;
    }
    .sec-label {
      font-size: 10.5px;
      font-weight: 500;
      letter-spacing: .1em;
      text-transform: uppercase;
      color: var(--fg-dim);
      padding-top: 4px;
      line-height: 1.6;
    }

    /* ─── Work list ────────────────────────────────────── */
    .work-list { display: flex; flex-direction: column; }
    .work-row {
      display: grid;
      grid-template-columns: 1fr;
      align-items: start;
      gap: 12px;
      padding: 20px 0;
    }
    .work-main {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      min-width: 0;
    }
    .work-thumb {
      width: 84px;
      height: 52px;
      border-radius: 6px;
      object-fit: cover;
      border: 1px solid var(--border);
      flex: 0 0 auto;
      /* background: color-mix(in srgb, var(--fg) 6%, var(--bg)); */
    }
    [data-theme="dark"] .work-thumb {
      filter: invert(1);
      border: none;
    }
    .work-title {
      font-size: 16px;
      font-weight: 400;
      color: var(--fg);
      transition: color .18s, transform .22s var(--ease-fast);
    }
    .work-sub {
      font-size: 12.5px;
      color: var(--fg-dim);
      margin-top: 3px;
      line-height: 1.55;
    }
    .work-note {
      font-size: 11.5px;
      color: var(--fg-mid);
      margin-top: 6px;
      line-height: 1.5;
    }
    .work-row:hover .work-title { color: var(--accent); transform: translateX(5px); }

    /* ─── Skills prose ─────────────────────────────────── */
    .skills-body {
      font-size: clamp(16px, 2.2vw, 22px);
      font-weight: 300;
      line-height: 1.68;
      color: var(--fg-mid);
    }
    .skills-body p + p { margin-top: 1.2em; }
    .sk {
      color: var(--fg);
      font-weight: 500;
      /* border-bottom: 1px solid var(--border); */
      transition: color .15s, border-color .15s;
      cursor: default;
    }
    .sk:hover { color: var(--accent); border-color: var(--accent); }

    /* Stats strip */
    .stats-row {
      display: flex;
      gap: 0;
      margin-top: 52px;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }
    .stat-cell {
      flex: 1;
      padding: 28px 0 24px;
      border-right: 1px solid var(--border);
      transition: background .18s;
    }
    .stat-cell:last-child { border-right: none; }
    .stat-num {
      font-size: clamp(30px, 4.5vw, 48px);
      font-weight: 300;
      letter-spacing: -.04em;
      line-height: 1;
      color: var(--fg);
    }
    .stat-num sup {
      font-size: .42em;
      vertical-align: super;
      letter-spacing: 0;
    }
    .stat-lbl {
      font-size: 11px;
      font-weight: 500;
      letter-spacing: .07em;
      text-transform: uppercase;
      color: var(--fg-dim);
      margin-top: 8px;
    }
    .stat-cell:not(:first-child) { padding-left: 28px; }

    /* ─── Experience list ──────────────────────────────── */
    .exp-list { display: flex; flex-direction: column; }
    .exp-row {
      display: grid;
      grid-template-columns: 130px 1fr;
      gap: 0 28px;
      padding: 26px 0;
    }
    .exp-period {
      font-size: 11.5px;
      font-weight: 500;
      color: var(--fg-dim);
      letter-spacing: .03em;
      padding-top: 3px;
      font-variant-numeric: tabular-nums;
      line-height: 1.5;
    }
    .exp-role {
      font-size: 15px;
      font-weight: 500;
      color: var(--fg);
      line-height: 1.3;
    }
    .exp-co {
      font-size: 12.5px;
      color: var(--fg-mid);
      margin-top: 3px;
    }
    .exp-desc {
      font-size: 12.5px;
      line-height: 1.72;
      color: var(--fg-dim);
      margin-top: 10px;
    }
    .exp-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }
    .exp-tag {
      font-size: 10.5px;
      font-weight: 500;
      letter-spacing: .04em;
      color: var(--fg-dim);
      border: 1px solid var(--border);
      border-radius: 3px;
      padding: 2px 7px;
    }

    /* ─── Projects ─────────────────────────────────────── */
    .proj-cols {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0 48px;
    }
    .proj-item {
      padding: 22px 0;
    }
    .proj-name {
      display: inline-flex;
      align-items: baseline;
      gap: 5px;
      font-size: 15px;
      font-weight: 500;
      color: var(--fg);
      border-bottom: 1px solid var(--border);
      padding-bottom: 1px;
      transition: color .18s, border-color .18s;
    }
    .proj-name:hover { color: var(--accent); border-color: var(--accent); }
    .proj-heading { margin: 0; }
    .proj-desc {
      font-size: 12.5px;
      line-height: 1.65;
      color: var(--fg-dim);
      margin-top: 7px;
    }

    /* ─── Contact ──────────────────────────────────────── */
    .contact-prose {
      font-size: clamp(18px, 2.6vw, 26px);
      font-weight: 300;
      line-height: 1.52;
      color: var(--fg);
      max-width: 560px;
    }
    .mail-link {
      border-bottom: 1px solid var(--border);
      padding-bottom: 1px;
      transition: color .18s, border-color .18s;
    }
    .mail-link:hover { color: var(--accent); border-color: var(--accent); }

    /* ─── Footer ───────────────────────────────────────── */
    footer {
      padding: 40px 0 48px;
      border-top: 1px solid var(--border);
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
      transition: border-color .25s;
    }
    .ft-copy {
      font-size: 11.5px;
      color: var(--fg-dim);
      margin-top: 3px;
    }
    .ft-links {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      align-items: center;
    }
    .ft-links a {
      font-size: 12px;
      color: var(--fg-mid);
      border-bottom: 1px solid transparent;
      padding-bottom: 1px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      transition: color .18s, border-color .18s;
    }
    .ft-links a:hover { color: var(--fg); border-color: var(--border); }
    .ft-links a svg { width: 13px; height: 13px; flex-shrink: 0; }

    /* ─── Weather popover ──────────────────────────────── */
    .co-spain { position: relative; }

    .weather-pop {
      position: absolute;
      bottom: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%) translateY(6px);
      display: block;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 11px 14px;
      min-width: 134px;
      white-space: nowrap;
      pointer-events: none;
      opacity: 0;
      z-index: 20;
      transition: opacity .2s var(--ease-out), transform .2s var(--ease-out);
      box-shadow: 0 8px 28px color-mix(in srgb, var(--fg) 7%, transparent);
    }
    .co-spain:hover .weather-pop {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
    /* Caret border */
    .weather-pop::before {
      content: '';
      position: absolute;
      top: 100%; left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: var(--border);
    }
    /* Caret fill */
    .weather-pop::after {
      content: '';
      position: absolute;
      top: 100%; left: 50%;
      transform: translateX(-50%) translateY(-2px);
      border: 5px solid transparent;
      border-top-color: var(--bg);
    }
    .weather-main {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .weather-ico {
      font-size: 21px;
      color: var(--accent);
      line-height: 1;
      flex-shrink: 0;
    }
    @keyframes w-spin {
      to { transform: rotate(360deg); }
    }
    .weather-ico.loading i { animation: w-spin .9s linear infinite; }
    .weather-right {
      display: flex;
      flex-direction: column;
    }
    .weather-temp {
      display: block;
      font-size: 19px;
      font-weight: 300;
      letter-spacing: -.03em;
      color: var(--fg);
      line-height: 1;
    }
    .weather-cond {
      display: block;
      font-size: 9.5px;
      font-weight: 500;
      letter-spacing: .09em;
      text-transform: uppercase;
      color: var(--fg-dim);
      margin-top: 3px;
    }
    .weather-loc {
      display: block;
      font-size: 10px;
      color: var(--fg-dim);
      margin-top: 8px;
      padding-top: 8px;
      border-top: 1px solid var(--border);
      letter-spacing: .02em;
    }

    /* ─── Link preview popover ─────────────────────────── */
    .co-maisa { position: relative; }

    .link-pop {
      position: absolute;
      bottom: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%) translateY(6px);
      display: block;
      width: 220px;
      white-space: normal;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      pointer-events: none;
      opacity: 0;
      z-index: 20;
      transition: opacity .2s var(--ease-out), transform .2s var(--ease-out);
      box-shadow: 0 8px 28px color-mix(in srgb, var(--fg) 7%, transparent);
    }
    .co-maisa:hover .link-pop {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
    .link-pop::before {
      content: '';
      position: absolute;
      top: 100%; left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: var(--border);
    }
    .link-pop::after {
      content: '';
      position: absolute;
      top: 100%; left: 50%;
      transform: translateX(-50%) translateY(-2px);
      border: 5px solid transparent;
      border-top-color: var(--bg);
    }
    .link-pop-img-wrap {
      width: 100%;
      height: 112px;
      background: color-mix(in srgb, var(--fg) 4%, var(--bg));
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 7px;
    }
    .link-pop-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }
    .link-pop-img.loaded { display: block; }
    .link-pop-loading {
      font-size: 18px;
      color: var(--fg-dim);
      animation: w-spin .9s linear infinite;
    }

    /* ─── Noise texture overlay ────────────────────────── */
    body::after {
      content: '';
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)'/%3E%3C/svg%3E");
      opacity: .03;
    }


    /* ─── Mobile menu button ────────────────────────────── */
    #menu-btn {
      display: none;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      color: var(--fg-mid);
      transition: color .18s;
    }
    #menu-btn:hover { color: var(--fg); }
    #menu-btn i { font-size: 20px; line-height: 1; }

    /* ─── Mobile menu overlay ───────────────────────────── */
    #mobile-menu {
      display: none;
    }

    /* ─── Scroll reveal ────────────────────────────────── */
    .reveal {
      opacity: 0;
      transform: translateY(14px);
      transition:
        opacity  500ms var(--ease-out),
        transform 500ms var(--ease-out);
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ─── Responsive ───────────────────────────────────── */
    @media (max-width: 640px) {
      nav { padding: 18px 20px; }
      .nav-links { display: none; }
      .w { padding: 0 20px; }
      main { padding-top: 72px; }
      .hero { padding-bottom: 60px; }
      .hero-avatar { margin-bottom: 28px; }
      .prose-cta-row { margin-top: 40px; }
      .sec { padding-top: 48px; padding-bottom: 48px; }
      .sec-grid { grid-template-columns: 1fr; gap: 18px 0; }
      .sec-label { padding-top: 0; }
      /* Stats: keep horizontal, tighten padding */
      .stats-row { flex-direction: row; }
      .stat-cell { border-right: 1px solid var(--border); border-bottom: none; }
      .stat-cell:not(:first-child) { padding-left: 16px; }
      .stat-cell:last-child { border-right: none; }
      /* Mobile menu */
      #menu-btn { display: inline-flex; }
      #mobile-menu {
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: fixed;
        inset: 0;
        z-index: 48;
        background: var(--bg);
        padding: 0 20px 48px;
        pointer-events: none;
        opacity: 0;
        transform: translateY(-8px);
        transition: opacity .28s var(--ease-out), transform .28s var(--ease-out);
      }
      #mobile-menu.open {
        pointer-events: auto;
        opacity: 1;
        transform: translateY(0);
      }
      #mobile-menu ul {
        display: flex;
        flex-direction: column;
      }
      #mobile-menu li { border-bottom: 1px solid var(--border); }
      #mobile-menu li:first-child { border-top: 1px solid var(--border); }
      #mobile-menu a {
        display: block;
        font-size: clamp(26px, 7vw, 32px);
        font-weight: 300;
        letter-spacing: -.02em;
        color: var(--fg);
        padding: 18px 0;
        transition: color .18s, padding-left .2s var(--ease-out);
      }
      #mobile-menu a:hover { color: var(--accent); padding-left: 8px; }
      .exp-row { grid-template-columns: 1fr; gap: 4px; }
      .work-row { grid-template-columns: 1fr; gap: 8px; }
      .proj-cols { grid-template-columns: 1fr; }
      .proj-col:last-child > .proj-item:first-child { border-top: none; }
      footer { flex-direction: column; gap: 16px; }
      /* ── Touch targets */
      #theme-btn, #menu-btn { width: 44px; height: 44px; }
      /* ── Popovers: desktop only */
      .weather-pop, .link-pop { display: none; }
    }

    /* ─── Reduced motion ───────────────────────────────── */
    @media (prefers-reduced-motion: reduce) {
      html { scroll-behavior: auto; }
      .hero-avatar,
      .hero .prose,
      .prose-cta {
        animation: none;
        opacity: 1;
        transform: none;
      }
      .reveal {
        opacity: 1 !important;
        transform: none !important;
        transition: none !important;
      }
      *, *::before, *::after {
        transition-duration: 0.01ms !important;
        transition-delay:    0ms    !important;
        animation-duration:  0.01ms !important;
      }
    }

  </style>
</head>
<body id="top">
  <a class="skip-link" href="#main-content">Skip to main content</a>

  <!-- ─── Nav ─────────────────────────────────────────── -->
  <nav aria-label="Main navigation">
    <a href="#top" class="logo" aria-label="Back to top">
      <div class="logo-shapes" aria-hidden="true">
        <img src="https://rober.design/img/rgd_trs.webp" alt="Rober González" width="24" height="24" />
      </div>
    </a>
    <div class="nav-r">
      <ul class="nav-links" role="list">
        <li><a href="#work">Work</a></li>
        <li><a href="#skills">Skills</a></li>
        <li><a href="#experience">Experience</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <div class="theme-wrap">
        <button id="theme-btn" aria-label="Select colour theme" aria-expanded="false" aria-haspopup="true" type="button">
          <i class="ph ph-palette" aria-hidden="true"></i>
        </button>
        <div class="theme-pop" id="theme-pop" role="menu" aria-label="Colour theme">
          <button class="theme-opt" data-theme-opt="light" role="menuitem" type="button">
            <i class="ph ph-sun" aria-hidden="true"></i>Light
          </button>
          <button class="theme-opt" data-theme-opt="dark" role="menuitem" type="button">
            <i class="ph ph-moon" aria-hidden="true"></i>Dark
          </button>
          <button class="theme-opt" data-theme-opt="system" role="menuitem" type="button">
            <i class="ph ph-monitor" aria-hidden="true"></i>System
          </button>
        </div>
      </div>
      <button id="menu-btn" aria-label="Open menu" aria-expanded="false" type="button">
        <i class="ph ph-list" aria-hidden="true" id="menu-icon-open"></i>
        <i class="ph ph-x hidden" aria-hidden="true" id="menu-icon-close"></i>
      </button>
    </div>
  </nav>

  <!-- ─── Mobile menu overlay ─────────────────────────── -->
  <div id="mobile-menu" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Navigation menu">
    <ul role="list">
      <li><a href="#work">Work</a></li>
      <li><a href="#skills">Skills</a></li>
      <li><a href="#experience">Experience</a></li>
      <li><a href="#projects">Projects</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </div>

  <main id="main-content">
    <div class="w">

      <!-- ─── Hero ─────────────────────────────────────── -->
      <header class="hero">
        <h1 class="visually-hidden">Rober González, Senior Product Designer</h1>

        <!-- Avatar -->
        <div class="hero-avatar">
          <img src="https://rober.design/img/rgd_trs.webp" alt="Rober González" width="52" height="52" />
        </div>

        <div class="prose">
          <p>
            Hello, I'm Rober González. I am a
            <strong>Senior Product Designer</strong>
            based in
            <span class="co co-spain">
              <span class="co-icon"><i class="ph ph-sun" aria-hidden="true"></i></span><span class="co-n">Spain</span>
              <span class="weather-pop" aria-hidden="true" id="weather-pop">
                <span class="weather-main">
                  <span class="weather-ico loading" id="weather-ico"><i class="ph ph-circle-notch" aria-hidden="true"></i></span>
                  <span class="weather-right">
                    <span class="weather-temp" id="weather-temp">—°</span>
                    <span class="weather-cond" id="weather-cond">Loading</span>
                  </span>
                </span>
                <span class="weather-loc">Valladolid, Spain</span>
              </span>.</span>
            I currently design AI software at
            <span class="co co-maisa">
              <span class="co-icon">
                <i class="ph ph-robot icon-default" aria-hidden="true"></i>
                <i class="ph ph-cpu icon-hover" aria-hidden="true"></i>
              </span><a href="https://maisa.ai" target="_blank" rel="noopener noreferrer" class="co-n co-n--link">Maisa AI</a>
              <span class="link-pop" aria-hidden="true" id="maisa-pop">
                <span class="link-pop-img-wrap">
                  <span class="link-pop-loading" id="maisa-pop-loading"><i class="ph ph-circle-notch" aria-hidden="true"></i></span>
                  <img class="link-pop-img" id="maisa-pop-img" alt="" />
                </span>
              </span>
            ,</span> exploring how design can shape trustworthy AI products, connecting business goals and human needs.
          </p>

          <p>
            Over 15 years I've shipped products with
            <span class="co co-fresh">
              <span class="co-icon"><i class="ph ph-person" aria-hidden="true"></i></span><span class="co-n">Fresh People</span>,</span>
            <span class="co co-populate">
              <span class="co-icon"><i class="ph ph-chart-bar" aria-hidden="true"></i></span><span class="co-n">Populate</span>,</span>
            <span class="co co-ntt">
              <span class="co-icon">
                <i class="ph ph-laptop icon-default" aria-hidden="true"></i>
                <i class="ph ph-desktop icon-hover" aria-hidden="true"></i>
              </span><span class="co-n">NTT Data</span>
            </span> and other companies, always at the intersection of product,
            design and engineering.
          </p>
        </div>

        <div class="prose-cta-row">
          <a href="mailto:hi@rober.design" class="prose-cta" aria-label="Send email">
            Get in touch <span class="arr" aria-hidden="true">↗</span>
          </a>
          <a href="https://rober.design/cv" class="prose-cta" aria-label="Open CV">
            View CV <span class="arr" aria-hidden="true">↗</span>
          </a>
        </div>

      </header>

      <hr />

      <!-- ─── Selected work ────────────────────────────── -->
      <section class="sec" id="work" aria-labelledby="work-lbl">
        <div class="sec-grid">
          <h2 class="sec-label reveal" id="work-lbl">Selected<br>work</h2>
          <ul class="work-list" role="list">
			<li class="work-row reveal">
				<div class="work-main">
				  <img class="work-thumb" src="/img/logos/1_port_logo.png" alt="Maisa AI logo" width="84" height="52"
				  loading="lazy"/>
				  <div>
					<h3 class="work-title">Maisa AI, Maisa Studio</h3>
					<div class="work-sub">A platform for building and managing trusted Digital Workers end-to-end.</div>
					<div class="work-note">B2B product design focused on trust, performance and reliability.</div>
				  </div>
				</div>
			  </li>
            <li class="work-row reveal">
              <div class="work-main">
                <img class="work-thumb" src="/img/logos/2_port_logo.png" alt="Fresh People logo" width="84" height="52"
				loading="lazy"/>
                <div>
                  <h3 class="work-title">Fresh People, Talent Booster</h3>
                  <div class="work-sub">The intelligent CRM for managers.</div>
                  <div class="work-note">Design strategy centered on streamlining day-to-day team management and reducing operational overhead using AI.</div>
                </div>
              </div>
            </li>
            <li class="work-row reveal">
              <div class="work-main">
                <img class="work-thumb" src="/img/logos/4_port_logo.png" alt="Ajuntament de Barcelona logo" width="84" height="52"
				loading="lazy"/>
                <div>
                  <h3 class="work-title">Ajuntament de Barcelona, Decidim</h3>
                  <div class="work-sub">Digital platform for citizen participation.</div>
                  <div class="work-note">Interaction model focused on reducing friction and enabling clearer participation decisions at each step.</div>
                </div>
              </div>
            </li>

            <li class="work-row reveal">
              <div class="work-main">
                <img class="work-thumb" src="/img/logos/3_port_logo.png" alt="Vodafone logo" width="84" height="52"
				loading="lazy"/>
                <div>
                  <h3 class="work-title">Vodafone, Operational System Status</h3>
                  <div class="work-sub">Real-time monitoring dashboard.</div>
                  <div class="work-note">Dashboard architecture prioritized immediate issue visibility to support faster operational response.</div>
                </div>
              </div>
            </li>
            <li class="work-row reveal">
              <div class="work-main">
                <img class="work-thumb" src="/img/logos/5_port_logo.png" alt="IAG Iberia logo" width="84" height="52" loading="lazy" />
                <div>
                  <h3 class="work-title">IAG Iberia, QNA</h3>
                  <div class="work-sub">QNA mobile app for pilots and flight attendants.</div>
                  <div class="work-note">Mobile UX designed for quick access to reliable information, with a clear and easy-to-use interface.</div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </section>

      <hr />

      <!-- ─── Skills ───────────────────────────────────── -->
      <section class="sec" id="skills" aria-labelledby="skills-lbl">
        <div class="sec-grid">
          <h2 class="sec-label reveal" id="skills-lbl">What<br>I do</h2>
          <div>
			<div class="skills-body reveal">
				<p>Focused on <span class="sk">AI product design and agentic UX</span>, translating opaque machine behaviour into interfaces people can understand and trust.</p>
				<p>Background spans <span class="sk">end-to-end product design, design systems and UX research</span> grounded in real user feedback and data. Strong sense of hierarchy, motion, and detail from years in interaction and visual design.</p>
				<p>Enough <span class="sk">frontend depth</span> (HTML, CSS, JS, React) to prototype at full fidelity and collaborate without friction.</p>
				<p>Experience <span class="sk">leading teams</span> and defining strategy across multidisciplinary environments.</p>
			</div>
            <!-- Stats strip -->
            <div class="stats-row" role="list" aria-label="Career at a glance">
              <div class="stat-cell reveal" role="listitem">
                <div class="stat-num" data-count="15">15<sup>+</sup></div>
                <div class="stat-lbl">Years exp.</div>
              </div>
              <div class="stat-cell reveal" role="listitem">
                <div class="stat-num" data-count="8">8</div>
                <div class="stat-lbl">Industries</div>
              </div>
			  <div class="stat-cell reveal" role="listitem">
                <div class="stat-num">B2B</div>
                <div class="stat-lbl">Focus</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <hr />

      <!-- ─── Experience ────────────────────────────────── -->
      <section class="sec" id="experience" aria-labelledby="exp-lbl">
        <div class="sec-grid">
          <h2 class="sec-label reveal" id="exp-lbl">Experience</h2>
          <div>
          <ul class="exp-list" role="list">

            <li class="exp-row reveal">
              <div class="exp-period">Jan. 2025<br>to Now</div>
              <div>
                <h3 class="exp-role">Senior Product Designer</h3>
                <div class="exp-co">Maisa AI Inc. · Remote</div>
                <p class="exp-desc">Senior UX, Interaction and UI designer on an AI agent platform, shaping how users build, monitor and trust autonomous workflows, from interaction model to design system.</p>
                <div class="exp-tags">
                  <span class="exp-tag">AI / Agents</span>
                  <span class="exp-tag">UX</span>
                  <span class="exp-tag">Design Systems</span>
                  <span class="exp-tag">B2B SaaS</span>
                </div>
              </div>
            </li>

            <li class="exp-row reveal">
              <div class="exp-period">May 2023<br>to Oct. 2024</div>
              <div>
                <h3 class="exp-role">Principal Product Designer</h3>
                <div class="exp-co">Fresh People · Remote</div>
                <p class="exp-desc">Principal UX, Interaction and UI designer for an HR SaaS platform, owning design strategy, user flows and component library.</p>
                <div class="exp-tags">
                  <span class="exp-tag">Design Leadership</span>
                </div>
              </div>
            </li>

            <li class="exp-row reveal">
              <div class="exp-period">Nov. 2021<br>to May 2023</div>
              <div>
                <h3 class="exp-role">Lead Product Designer</h3>
                <div class="exp-co">Populate Tools · Remote</div>
                <p class="exp-desc">Designer for Decidim, Barcelona's OS participatory platform, defining interaction and UI direction to make proposals, debates, and participation flows clearer, inclusive, and easier to scale.</p>
                <div class="exp-tags">
                  <span class="exp-tag">Interaction Design</span>
                  <span class="exp-tag">UI Systems</span>
                </div>
              </div>
            </li>

            <li class="exp-row reveal">
              <div class="exp-period">Mar. 2018<br>to Oct. 2021</div>
              <div>
                <h3 class="exp-role">Project Leader, Digital Product &amp; IxD Designer</h3>
                <div class="exp-co">NTT Data · Valladolid / Madrid / Remote</div>
                <p class="exp-desc">Experience Design project leader. Led interaction and UI design, coordinated the design team, managed projects, and owned the data visualisation design area.</p>
                <div class="exp-tags">
                  <span class="exp-tag">Leadership</span>
                  <span class="exp-tag">Data Viz</span>
                  <span class="exp-tag">Enterprise</span>
                  <span class="exp-tag">Consulting</span>
                </div>
              </div>
            </li>

          </ul>
          <a href="https://rober.design/cv" class="prose-cta exp-cta reveal" aria-label="Open CV">
            View CV <span class="arr" aria-hidden="true">↗</span>
          </a>
          </div>
        </div>
      </section>

      <hr />

      <!-- ─── Side projects ─────────────────────────────── -->
      <section class="sec" id="projects" aria-labelledby="proj-lbl">
        <div class="sec-grid">
          <h2 class="sec-label reveal" id="proj-lbl">Side<br>projects</h2>
          <div class="proj-cols">
            <div class="proj-col">
              <div class="proj-item reveal">
                <h3 class="proj-heading"><a href="https://shouldijustify.com" target="_blank" rel="noopener noreferrer" class="proj-name">
                  shouldijustify.com <span aria-hidden="true">↗</span>
                </a></h3>
                <p class="proj-desc">Practical, opinionated advice on text justification for the web. A small tool answering a question designers keep asking.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <hr />

      <!-- ─── Contact ──────────────────────────────────── -->
      <section class="sec" id="contact" aria-labelledby="contact-lbl">
        <div class="sec-grid">
          <h2 class="sec-label reveal" id="contact-lbl">Contact</h2>
          <p class="contact-prose reveal">
            <span class="sk">Not seeking new roles or projects right now</span>, but if you want to talk to me about any topic, you can reach me at
            <a href="mailto:hi@rober.design" class="mail-link">hi@rober.design</a>
          </p>
        </div>
      </section>

      <!-- ─── Footer ───────────────────────────────────── -->
      <footer>
        <div>
          <div class="ft-copy"><a href="https://www.linkedin.com/in/robergd/" class="mail-link" target="_blank" rel="noopener noreferrer">LinkedIn</a></div>
        </div>
		<div>
			<div class="ft-copy">From Spain with ❤️</div>
		  </div>
      </footer>

    </div>
  </main>

  <!-- ─── JS ─────────────────────────────────────────── -->
  <script>
    (function () {
      var html = document.documentElement;
      var btn  = document.getElementById('theme-btn');

      /* ── Theme selector ── */
      var themePop = document.getElementById('theme-pop');
      var stored   = localStorage.getItem('rg-theme') || 'system';
      applyPref(stored);

      // Re-apply if system preference changes while system mode is active
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function () {
        if (localStorage.getItem('rg-theme') === 'system') applyPref('system');
      });

      btn.addEventListener('click', function (e) {
        e.stopPropagation();
        var isOpen = themePop.classList.toggle('open');
        btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });

      document.querySelectorAll('.theme-opt').forEach(function (opt) {
        opt.addEventListener('click', function (e) {
          e.stopPropagation();
          applyPref(opt.dataset.themeOpt);
          themePop.classList.remove('open');
          btn.setAttribute('aria-expanded', 'false');
        });
      });

      document.addEventListener('click', function () {
        themePop.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      });

      function applyPref(pref) {
        var t = pref === 'system'
          ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
          : pref;
        html.dataset.theme = t;
        localStorage.setItem('rg-theme', pref);
        document.querySelectorAll('.theme-opt').forEach(function (opt) {
          opt.classList.toggle('active', opt.dataset.themeOpt === pref);
        });
      }

      /* ── Mobile menu ── */
      var menuBtn  = document.getElementById('menu-btn');
      var mobileMenu = document.getElementById('mobile-menu');
      var menuIconOpen  = document.getElementById('menu-icon-open');
      var menuIconClose = document.getElementById('menu-icon-close');

      function openMenu() {
        mobileMenu.classList.add('open');
        mobileMenu.setAttribute('aria-hidden', 'false');
        menuBtn.setAttribute('aria-expanded', 'true');
        menuBtn.setAttribute('aria-label', 'Close menu');
        menuIconOpen.classList.add('hidden');
        menuIconClose.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        // Move focus to first menu item
        var firstLink = mobileMenu.querySelector('a');
        if (firstLink) firstLink.focus();
      }
      function closeMenu() {
        mobileMenu.classList.remove('open');
        mobileMenu.setAttribute('aria-hidden', 'true');
        menuBtn.setAttribute('aria-expanded', 'false');
        menuBtn.setAttribute('aria-label', 'Open menu');
        menuIconOpen.classList.remove('hidden');
        menuIconClose.classList.add('hidden');
        document.body.style.overflow = '';
        // Restore focus to trigger
        menuBtn.focus();
      }

      if (menuBtn) {
        menuBtn.addEventListener('click', function () {
          mobileMenu.classList.contains('open') ? closeMenu() : openMenu();
        });
        mobileMenu.querySelectorAll('a').forEach(function (link) {
          link.addEventListener('click', closeMenu);
        });
      }

      // Close on Escape key
      document.addEventListener('keydown', function (e) {
        if (e.key !== 'Escape') return;
        if (mobileMenu.classList.contains('open')) closeMenu();
        themePop.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      });

      // Focus trap inside mobile menu
      mobileMenu.addEventListener('keydown', function (e) {
        if (e.key !== 'Tab') return;
        var links = Array.from(mobileMenu.querySelectorAll('a'));
        var first = links[0]; var last = links[links.length - 1];
        if (e.shiftKey) {
          if (document.activeElement === first) { e.preventDefault(); last.focus(); }
        } else {
          if (document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
      });

      /* ── Nav scroll border ── */
      var nav = document.querySelector('nav');
      window.addEventListener('scroll', function () {
        nav.classList.toggle('scrolled', window.scrollY > 8);
      }, { passive: true });

      /* ── Show nav logo only after hero avatar leaves viewport ── */
      var heroAvatar = document.querySelector('.hero-avatar');
      if (heroAvatar) {
        var navLogoObserver = new IntersectionObserver(function (entries) {
          entries.forEach(function (entry) {
            nav.classList.toggle('show-logo', !entry.isIntersecting);
          });
        }, {
          threshold: 0.05,
          rootMargin: '-72px 0px 0px 0px'
        });
        navLogoObserver.observe(heroAvatar);
      }

      /* ── In-page anchors without hash in URL ── */
      document.querySelectorAll('a[href^="#"]').forEach(function (link) {
        link.addEventListener('click', function (e) {
          if (e.defaultPrevented) return;
          if (e.button !== 0 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;

          var targetId = link.getAttribute('href');
          if (!targetId || targetId === '#') return;

          var target = document.querySelector(targetId);
          if (!target) return;

          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          history.replaceState(null, '', window.location.pathname + window.location.search);
        });
      });

      /* ── Scroll reveals ── */
      var revealEls = document.querySelectorAll('.reveal');

      // Set staggered delays per group before observing
      function stagger(parentSel, childSel, ms) {
        document.querySelectorAll(parentSel).forEach(function (parent) {
          parent.querySelectorAll(childSel).forEach(function (el, i) {
            el.dataset.staggerDelay = String(i * ms);
          });
        });
      }
      stagger('.work-list',  '.reveal', 60);
      stagger('.exp-list',   '.reveal', 60);
      stagger('.stats-row',  '.reveal', 70);
      // Projects: stagger within each column with a small offset for right col
      document.querySelectorAll('.proj-cols .proj-col').forEach(function (col, ci) {
        col.querySelectorAll('.reveal').forEach(function (el, i) {
          el.dataset.staggerDelay = String(ci * 40 + i * 60);
        });
      });

      var observer = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
          if (!entry.isIntersecting) return;
          var el = entry.target;
          var delay = el.dataset.staggerDelay || '0';
          el.style.transitionDelay = delay + 'ms';
          el.classList.add('visible');
          // After entrance, clear delay so hover transitions are snappy
          el.addEventListener('transitionend', function clear() {
            el.style.transitionDelay = '';
            el.removeEventListener('transitionend', clear);
          });
          observer.unobserve(el);
        });
      }, { threshold: 0.08, rootMargin: '0px 0px -32px 0px' });

      revealEls.forEach(function (el) { observer.observe(el); });

      /* ── Stat count-up ── */
      var statNums = document.querySelectorAll('.stat-num[data-count]');
      if (statNums.length) {
        var statObserver = new IntersectionObserver(function (entries) {
          entries.forEach(function (entry) {
            if (!entry.isIntersecting) return;
            countUp(entry.target);
            statObserver.unobserve(entry.target);
          });
        }, { threshold: 0.5 });
        statNums.forEach(function (el) { statObserver.observe(el); });
      }

      function countUp(el) {
        // Skip animation if user prefers reduced motion
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
          var tgt = parseInt(el.dataset.count, 10);
          var s = el.querySelector('sup'); var sHTML = s ? s.outerHTML : '';
          el.textContent = tgt; if (sHTML) el.insertAdjacentHTML('beforeend', sHTML);
          return;
        }
        var target   = parseInt(el.dataset.count, 10);
        var sup      = el.querySelector('sup');
        var supOuter = sup ? sup.outerHTML : '';
        var duration = 900;
        var start    = null;

        function tick(ts) {
          if (!start) start = ts;
          var elapsed  = ts - start;
          var progress = Math.min(elapsed / duration, 1);
          // ease-out-cubic
          var eased    = 1 - Math.pow(1 - progress, 3);
          var current  = Math.round(eased * target);
          // Update without clobbering the sup
          el.firstChild.textContent = current;
          if (progress < 1) {
            requestAnimationFrame(tick);
          } else {
            el.firstChild.textContent = target;
          }
        }

        // Prepare: set a text node as first child
        el.textContent = '0';
        if (supOuter) el.insertAdjacentHTML('beforeend', supOuter);
        requestAnimationFrame(tick);
      }

      /* ── Weather popover ── */
      (function () {
        var spainEl = document.querySelector('.co-spain');
        var icoEl   = document.getElementById('weather-ico');
        var tempEl  = document.getElementById('weather-temp');
        var condEl  = document.getElementById('weather-cond');
        var fetched = false;

        var WMO = {
          0:  ['ph-sun',             'Clear'],
          1:  ['ph-sun',             'Mainly Clear'],
          2:  ['ph-cloud-sun',       'Partly Cloudy'],
          3:  ['ph-cloud',           'Overcast'],
          45: ['ph-cloud',           'Fog'],
          48: ['ph-cloud',           'Freezing Fog'],
          51: ['ph-cloud-rain',      'Light Drizzle'],
          53: ['ph-cloud-rain',      'Drizzle'],
          55: ['ph-cloud-rain',      'Heavy Drizzle'],
          61: ['ph-cloud-rain',      'Light Rain'],
          63: ['ph-cloud-rain',      'Rain'],
          65: ['ph-cloud-rain',      'Heavy Rain'],
          71: ['ph-snowflake',       'Light Snow'],
          73: ['ph-snowflake',       'Snow'],
          75: ['ph-snowflake',       'Heavy Snow'],
          77: ['ph-snowflake',       'Snow Grains'],
          80: ['ph-cloud-rain',      'Showers'],
          81: ['ph-cloud-rain',      'Showers'],
          82: ['ph-cloud-rain',      'Heavy Showers'],
          85: ['ph-snowflake',       'Snow Showers'],
          86: ['ph-snowflake',       'Snow Showers'],
          95: ['ph-cloud-lightning', 'Thunderstorm'],
          96: ['ph-cloud-lightning', 'Thunderstorm'],
          99: ['ph-cloud-lightning', 'Thunderstorm']
        };

        function wmoIcon(code) {
          return WMO[code] || ['ph-cloud', 'Cloudy'];
        }

        function setIcon(iconClass) {
          var spainIco = spainEl.querySelector('.co-icon i');
          if (spainIco) spainIco.className = 'ph ' + iconClass;
          icoEl.classList.remove('loading');
          icoEl.innerHTML = '<i class="ph ' + iconClass + '" aria-hidden="true"></i>';
        }

        function fetchWeather() {
          if (fetched) return;
          fetched = true;
          fetch('https://api.open-meteo.com/v1/forecast?latitude=41.6523&longitude=-4.7245&current=temperature_2m,weather_code&temperature_unit=celsius&timezone=auto')
            .then(function (r) { return r.json(); })
            .then(function (d) {
              var temp     = Math.round(d.current.temperature_2m);
              var iconData = wmoIcon(d.current.weather_code);
              setIcon(iconData[0]);
              tempEl.textContent = temp + '°';
              condEl.textContent = iconData[1];
            })
            .catch(function () {
              setIcon('ph-cloud');
              tempEl.textContent = '—°';
              condEl.textContent = 'Unavailable';
            });
        }

        if (spainEl) {
          spainEl.addEventListener('mouseenter', fetchWeather);
        }
      })();

      /* ── Link preview popover ── */
      (function () {
        var maisaEl  = document.querySelector('.co-maisa');
        if (!maisaEl) return;
        var loadEl   = document.getElementById('maisa-pop-loading');
        var imgEl    = document.getElementById('maisa-pop-img');
        var fetched  = false;

        function fetchPreview() {
          if (fetched) return;
          fetched = true;
          fetch('https://api.microlink.io/?url=https://maisa.ai')
            .then(function (r) { return r.json(); })
            .then(function (d) {
              var imgUrl = d.status === 'success' && d.data && d.data.image && d.data.image.url;
              if (imgUrl) {
                imgEl.src = imgUrl;
                imgEl.onload = function () {
                  loadEl.style.display = 'none';
                  imgEl.classList.add('loaded');
                };
                imgEl.onerror = showFallback;
              } else {
                showFallback();
              }
            })
            .catch(showFallback);

          function showFallback() {
            loadEl.style.animation = 'none';
            loadEl.querySelector('i').className = 'ph ph-globe';
          }
        }

        maisaEl.addEventListener('mouseenter', fetchPreview);
      })();

    })();
  </script>


</body>
</html>
